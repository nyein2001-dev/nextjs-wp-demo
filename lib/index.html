<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Form</title>
</head>
<body>
    <div>
        <form id="agentForm">
            <div>
                <select id="agentDropdown" onchange="handleDropdownChange()">
                    <option value="no-agent">No active agent</option>
                    <option value="with-agent">With existing agent</option>
                </select>
            </div>
            
            <div>
                <label>Fields marked with * are required</label>
            </div>
            
            <div>
                <label for="policyNumber">Policy number *</label>
                <input type="text" id="policyNumber" required>
            </div>
            
            <div>
                <label for="emailAddress">Email address *</label>
                <input type="email" id="emailAddress" required>
            </div>
            
            <!-- No Agent Section -->
            <div id="noAgentSection">
                <div>New Servicing Agent Information *</div>
                <div>Please advise these details directly from your newly appointed agent.</div>
                
                <div>
                    <label for="agentCompleteName">New servicing agent's complete name *</label>
                    <input type="text" id="agentCompleteName" required>
                </div>
                
                <div>
                    <label for="agentCode">New servicing agent's code *</label>
                    <input type="text" id="agentCode" required>
                </div>
                
                <div>
                    <label for="branchName">New servicing agent's branch name *</label>
                    <input type="text" id="branchName" required>
                </div>
            </div>
            
            <!-- With Agent Section -->
            <div id="withAgentSection" style="display: none;">
                <div>
                    To request for Change of Agent or Transfer of Business, kindly attach the following:
                </div>
                
                <div>
                    â€¢ Duly accomplished <span style="color: blue; text-decoration: underline;">Change of Servicing Agent form</span> with the following signature requirements.
                </div>
                
                <div>
                    Additional requirements may be requested after your submission is reviewed.
                </div>
            </div>
        </form>
    </div>

    <script>
        function handleDropdownChange() {
            const dropdown = document.getElementById('agentDropdown');
            const noAgentSection = document.getElementById('noAgentSection');
            const withAgentSection = document.getElementById('withAgentSection');
            const agentFields = ['agentCompleteName', 'agentCode', 'branchName'];
            
            if (dropdown.value === 'no-agent') {
                // Show no agent section
                noAgentSection.style.display = 'block';
                withAgentSection.style.display = 'none';
                
                // Make agent fields required
                agentFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.required = true;
                });
            } else if (dropdown.value === 'with-agent') {
                // Show with agent section
                noAgentSection.style.display = 'none';
                withAgentSection.style.display = 'block';
                
                // Remove required from agent fields
                agentFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.required = false;
                    field.value = ''; // Clear the fields
                });
            }
        }
        
        // Initialize the form on page load
        document.addEventListener('DOMContentLoaded', function() {
            handleDropdownChange();
        });
    </script>
</body>
</html>
