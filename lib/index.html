<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Form</title>
</head>
<body>
    <div>
        <form id="agentForm">
            <div>
                <label for="agentDropdown">Do you have an existing agent?</label>
                <select id="agentDropdown" onchange="handleDropdownChange()">
                    <option value="">Please select...</option>
                    <option value="no-agent">No active agent</option>
                    <option value="with-agent">With existing agent</option>
                </select>
            </div>
            
            <!-- Common Fields (initially hidden) -->
            <div id="commonFields" style="display: none;">
                <div>
                    <label>Fields marked with * are required</label>
                </div>
                
                <div>
                    <label for="policyNumber">Policy number *</label>
                    <input type="text" id="policyNumber" required>
                </div>
                
                <div>
                    <label for="emailAddress">Email address *</label>
                    <input type="email" id="emailAddress" required>
                </div>
            </div>
            
            <!-- No Agent Section -->
            <div id="noAgentSection" style="display: none;">
                <div>New Servicing Agent Information *</div>
                <div>Please advise these details directly from your newly appointed agent.</div>
                
                <div>
                    <label for="agentCompleteName">New servicing agent's complete name *</label>
                    <input type="text" id="agentCompleteName">
                </div>
                
                <div>
                    <label for="agentCode">New servicing agent's code *</label>
                    <input type="text" id="agentCode">
                </div>
                
                <div>
                    <label for="branchName">New servicing agent's branch name *</label>
                    <input type="text" id="branchName">
                </div>
                
                <div>
                    <label for="noAgentFile">Upload required documents *</label>
                    <input type="file" id="noAgentFile">
                </div>
            </div>
            
            <!-- With Agent Section -->
            <div id="withAgentSection" style="display: none;">
                <div>
                    To request for Change of Agent or Transfer of Business, kindly attach the following:
                </div>
                
                <div>
                    â€¢ Duly accomplished <span style="color: blue; text-decoration: underline;">Change of Servicing Agent form</span> with the following signature requirements.
                </div>
                
                <div>
                    Additional requirements may be requested after your submission is reviewed.
                </div>
                
                <div>
                    <label for="withAgentFile">Upload Change of Servicing Agent form *</label>
                    <input type="file" id="withAgentFile">
                </div>
            </div>
        </form>
    </div>

    <script>
        function handleDropdownChange() {
            const dropdown = document.getElementById('agentDropdown');
            const commonFields = document.getElementById('commonFields');
            const noAgentSection = document.getElementById('noAgentSection');
            const withAgentSection = document.getElementById('withAgentSection');
            
            const noAgentFileField = document.getElementById('noAgentFile');
            const withAgentFileField = document.getElementById('withAgentFile');
            
            // Hide all sections first
            commonFields.style.display = 'none';
            noAgentSection.style.display = 'none';
            withAgentSection.style.display = 'none';
            
            // Reset file fields required status
            noAgentFileField.required = false;
            withAgentFileField.required = false;
            
            if (dropdown.value === 'no-agent') {
                // Show common fields and no agent section
                commonFields.style.display = 'block';
                noAgentSection.style.display = 'block';
                
                // Make no agent file required
                noAgentFileField.required = true;
                
            } else if (dropdown.value === 'with-agent') {
                // Show common fields and with agent section
                commonFields.style.display = 'block';
                withAgentSection.style.display = 'block';
                
                // Make with agent file required
                withAgentFileField.required = true;
            }
        }
        
        // Initialize the form on page load
        document.addEventListener('DOMContentLoaded', function() {
            handleDropdownChange();
        });
    </script>
</body>
</html>
