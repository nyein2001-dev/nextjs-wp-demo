<select id="contactType" name="contactType" class="form-control" required>
    <option value="">-- Please select --</option>
    <c:forEach var="option" items="${content.valueList.DropdownOption}">
        <option value="${option.value.OptionId}" 
                <c:if test="${option.value.OptionId eq param.contactType}">selected</c:if>>
            ${option.value.OptionName}
        </option>
    </c:forEach>
</select>

<c:forEach var="option" items="${content.valueList.DropdownOption}">
    <div id="${option.value.OptionId}" class="dropdown-view" style="display:none;">
        <p>${option.value.OptionName} View</p>
    </div>
</c:forEach>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const select = document.getElementById('contactType');
    const allViews = document.querySelectorAll('.dropdown-view');

    function showSelectedView() {
        const selectedId = select.value;

        // Hide all views
        allViews.forEach(view => {
            view.style.display = 'none';
        });

        // Show the one matching the selected OptionId
        if (selectedId) {
            const matchingView = document.getElementById(selectedId);
            if (matchingView) {
                matchingView.style.display = 'block';
            }
        }
    }

    // Run on page load (in case a value is pre-selected)
    showSelectedView();

    // Run when the selection changes
    select.addEventListener('change', showSelectedView);
});
</script>
