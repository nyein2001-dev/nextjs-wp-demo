  <style>
        /* Container styles */
        .country-dropdown {
            position: relative;
            width: 176px;
            /* Ensure dropdown container has a higher stacking context */
            isolation: isolate;
        }

        /* Header styles */
        .country-dropdown-header {
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            padding: 8px 20px;
            width: 100%;
            height: 36px;
            background: #FFFFFF;
            border: 2px solid #E5EAEF;
            border-radius: 50px;
            cursor: pointer;
            position: relative;
        }

        /* Dropdown list styles - key changes for proper stacking */
        .country-dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            margin-top: 8px;
            background: #FFFFFF;
            border: 2px solid #E5EAEF;
            border-radius: 20px;
            overflow: hidden;
            display: none;
            /* Critical styles for proper stacking */
            position: fixed;
            z-index: 99999;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .country-option {
            display: flex;
            align-items: center;
            padding: 8px 20px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .country-option:hover {
            background-color: #F5F7FA;
        }

        .country-option:not(:last-child) {
            border-bottom: 2px solid #E5EAEF;
        }

        .country-flag {
            width: 24px;
            height: 17.14px;
            margin-right: 16px;
            border-radius: 3px;
        }

        .country-name {
            font-style: italic;
            font-weight: 400;
            font-size: 14px;
            line-height: 20px;
            color: #1B365D;
        }

        .chevron {
            width: 16px;
            height: 16px;
            transition: transform 0.3s ease;
        }

        .chevron.open {
            transform: rotate(180deg);
        }
    </style>

    <div class="country-dropdown">
        <div class="country-dropdown-header" id="dropdown-header">
            <div style="display: flex; align-items: center;">
                <img src="https://flagcdn.com/w40/my.png" alt="Malaysia flag" class="country-flag" id="selected-flag">
                <span class="country-name" id="selected-country">Malaysia</span>
            </div>
            <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
        </div>
    </div>

    <!-- Dropdown list moved outside to avoid stacking context issues -->
    <div class="country-dropdown-list" id="dropdown-list">
        <div class="country-option" data-country="Hong Kong" data-flag="hk" data-url="https://www.prudential.com.hk/en/">
            <img src="https://flagcdn.com/w40/hk.png" alt="Hong Kong flag" class="country-flag">
            <span class="country-name">Hong Kong</span>
        </div>
        <div class="country-option" data-country="Malaysia" data-flag="my" data-url="https://www.prubsn.com.my/en/">
            <img src="https://flagcdn.com/w40/my.png" alt="Malaysia flag" class="country-flag">
            <span class="country-name">Malaysia</span>
        </div>
        <div class="country-option" data-country="Philippines" data-flag="ph" data-url="https://www.prulifeuk.com.ph/en/">
            <img src="https://flagcdn.com/w40/ph.png" alt="Philippines flag" class="country-flag">
            <span class="country-name">Philippines</span>
        </div>
        <div class="country-option" data-country="Vietnam" data-flag="vn" data-url="https://www.prudential.com.vn/vi/">
            <img src="https://flagcdn.com/w40/vn.png" alt="Vietnam flag" class="country-flag">
            <span class="country-name">Vietnam</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const dropdownHeader = document.getElementById('dropdown-header');
            const dropdownList = document.getElementById('dropdown-list');
            const selectedFlag = document.getElementById('selected-flag');
            const selectedCountry = document.getElementById('selected-country');
            const chevron = dropdownHeader.querySelector('.chevron');

            function toggleDropdown() {
                const isOpen = dropdownList.style.display === 'block';
                
                if (!isOpen) {
                    // Position the dropdown relative to the header
                    const headerRect = dropdownHeader.getBoundingClientRect();
                    dropdownList.style.top = `${headerRect.bottom + window.scrollY + 8}px`;
                    dropdownList.style.left = `${headerRect.left + window.scrollX}px`;
                    dropdownList.style.display = 'block';
                } else {
                    dropdownList.style.display = 'none';
                }
                
                chevron.classList.toggle('open', !isOpen);
            }

            dropdownHeader.addEventListener('click', toggleDropdown);

            // Close dropdown when clicking outside
            document.addEventListener('click', function (event) {
                if (!dropdownHeader.contains(event.target) && !dropdownList.contains(event.target)) {
                    dropdownList.style.display = 'none';
                    chevron.classList.remove('open');
                }
            });

            // Update dropdown position on scroll
            window.addEventListener('scroll', function() {
                if (dropdownList.style.display === 'block') {
                    const headerRect = dropdownHeader.getBoundingClientRect();
                    dropdownList.style.top = `${headerRect.bottom + window.scrollY + 8}px`;
                    dropdownList.style.left = `${headerRect.left + window.scrollX}px`;
                }
            });

            const countryOptions = document.querySelectorAll('.country-option');
            countryOptions.forEach(option => {
                option.addEventListener('click', function () {
                    const country = this.dataset.country;
                    const flag = this.dataset.flag;
                    const url = this.dataset.url;

                    selectedFlag.src = `https://flagcdn.com/w40/${flag}.png`;
                    selectedFlag.alt = `${country} flag`;
                    selectedCountry.textContent = country;

                    toggleDropdown();
                    window.location.href = url;
                });
            });

            function setInitialCountry() {
                const currentUrl = window.location.href;
                const matchingOption = Array.from(countryOptions).find(option =>
                    currentUrl.includes(option.dataset.url)
                );

                if (matchingOption) {
                    selectedFlag.src = `https://flagcdn.com/w40/${matchingOption.dataset.flag}.png`;
                    selectedFlag.alt = `${matchingOption.dataset.country} flag`;
                    selectedCountry.textContent = matchingOption.dataset.country;
                }
            }

            setInitialCountry();
        });
    </script>
