<%@ page session="false" contentType="text/html;charset=UTF-8" %>
<%@ page import="org.opencms.mail.CmsMailSettings" %>
<%@ page import="org.opencms.mail.CmsMailHost" %>
<%@ page import="org.opencms.main.OpenCms" %>
<%@ page import="java.util.List" %>

<html>
<head>
    <title>SMTP Info</title>
</head>
<body>
    <h2>SMTP Configuration (OpenCms 9.5.1)</h2>
    <%
        CmsMailSettings settings = OpenCms.getSystemInfo().getMailSettings();
        List<CmsMailHost> hosts = settings.getMailHosts();

        for (CmsMailHost host : hosts) {
    %>
        <ul>
            <li><strong>Host:</strong> <%= host.getHost() %></li>
            <li><strong>Port:</strong> <%= host.getPort() %></li>
            <li><strong>Username:</strong> <%= host.getUsername() %></li>
            <li><strong>Default Encoding:</strong> <%= settings.getDefaultEncoding() %></li>
            <li><strong>Default From Address:</strong> <%= settings.getDefaultFrom() %></li>
        </ul>
    <%
        }
    %>
</body>
</html>
