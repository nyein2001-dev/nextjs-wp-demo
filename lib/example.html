<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">
    <xsd:include schemaLocation="opencms://opencms-xmlcontent.xsd"/>
    
    <!-- Contact Us Form Schema -->
    <xsd:element name="ContactUsForms" type="OpenCmsContactUsForms"/>
    
    <xsd:complexType name="OpenCmsContactUsForms">
        <xsd:sequence>
            <xsd:element name="ContactUsForm" type="OpenCmsContactUsForm" minOccurs="0" maxOccurs="unbounded"/>
        </xsd:sequence>
    </xsd:complexType>
    
    <xsd:complexType name="OpenCmsContactUsForm">
        <xsd:sequence>
            <!-- Form Title -->
            <xsd:element name="FormTitle" type="OpenCmsString" />
            
            <!-- Dropdown Options - Using nested structure -->
            <xsd:element name="DropdownOptions">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="DropdownOption" minOccurs="0" maxOccurs="unbounded">
                            <xsd:complexType>
                                <xsd:sequence>
                                    <xsd:element name="OptionName" type="OpenCmsString" />
                                    <xsd:element name="OptionId" type="OpenCmsString" />
                                    <xsd:element name="IsAvailable" type="OpenCmsBoolean" />
                                    <xsd:element name="IncludeRadioSection" type="OpenCmsBoolean" />
                                    <xsd:element name="UnavailableText" type="OpenCmsString" minOccurs="0" />
                                </xsd:sequence>
                            </xsd:complexType>
                        </xsd:element>
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
            
            <!-- Radio Sections - Using nested structure -->
            <xsd:element name="RadioSections">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="RadioSection" minOccurs="0" maxOccurs="unbounded">
                            <xsd:complexType>
                                <xsd:sequence>
                                    <xsd:element name="ParentId" type="OpenCmsString" />
                                    <xsd:element name="RadioOptions">
                                        <xsd:complexType>
                                            <xsd:sequence>
                                                <xsd:element name="RadioOption" minOccurs="0" maxOccurs="unbounded">
                                                    <xsd:complexType>
                                                        <xsd:sequence>
                                                            <xsd:element name="OptionName" type="OpenCmsString" />
                                                            <xsd:element name="OptionId" type="OpenCmsString" />
                                                        </xsd:sequence>
                                                    </xsd:complexType>
                                                </xsd:element>
                                            </xsd:sequence>
                                        </xsd:complexType>
                                    </xsd:element>
                                </xsd:sequence>
                            </xsd:complexType>
                        </xsd:element>
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
            
            <!-- Default Form - Using nested structure -->
            <xsd:element name="DefaultForm">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="EmailLabel" type="OpenCmsString" />
                        <xsd:element name="PolicyNumberLabel" type="OpenCmsString" />
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
            
            <!-- Additional Forms - Using nested structure -->
            <xsd:element name="AdditionalForms">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="AdditionalForm" minOccurs="0" maxOccurs="unbounded">
                            <xsd:complexType>
                                <xsd:sequence>
                                    <xsd:element name="ParentId" type="OpenCmsString" />
                                    <xsd:element name="Instructions" type="OpenCmsString" minOccurs="0" />
                                    <xsd:element name="Attachments" minOccurs="0">
                                        <xsd:complexType>
                                            <xsd:sequence>
                                                <xsd:element name="Attachment" minOccurs="0" maxOccurs="unbounded">
                                                    <xsd:complexType>
                                                        <xsd:sequence>
                                                            <xsd:element name="Description" type="OpenCmsString" />
                                                            <xsd:element name="FieldName" type="OpenCmsString" />
                                                            <xsd:element name="IsRequired" type="OpenCmsBoolean" />
                                                            <xsd:element name="FileSize" type="OpenCmsInteger" minOccurs="0" />
                                                        </xsd:sequence>
                                                    </xsd:complexType>
                                                </xsd:element>
                                            </xsd:sequence>
                                        </xsd:complexType>
                                    </xsd:element>
                                </xsd:sequence>
                            </xsd:complexType>
                        </xsd:element>
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
            
            <!-- Submit Button -->
            <xsd:element name="SubmitButtonText" type="OpenCmsString" />
            
            <!-- Form Messages - Using nested structure -->
            <xsd:element name="FormMessages">
                <xsd:complexType>
                    <xsd:sequence>
                        <xsd:element name="SuccessMessage" type="OpenCmsString" />
                        <xsd:element name="ErrorMessage" type="OpenCmsString" />
                    </xsd:sequence>
                </xsd:complexType>
            </xsd:element>
        </xsd:sequence>
        <xsd:attribute name="language" type="OpenCmsLocale" use="optional"/>
    </xsd:complexType>
    
    <xsd:annotation>
        <xsd:appinfo>
            <resourcebundle name="com.prudential.contactus"/>
            <defaults>
                <default element="IsAvailable" value="true" />
                <default element="IncludeRadioSection" value="false" />
                <default element="IsRequired" value="false" />
            </defaults>
            <layouts>
                <layout element="FormTitle" widget="StringWidget" />
                <layout element="IsAvailable" widget="BooleanWidget" />
                <layout element="IncludeRadioSection" widget="BooleanWidget" />
                <layout element="IsRequired" widget="BooleanWidget" />
                <layout element="FileSize" widget="NumberWidget" />
                <layout element="Instructions" widget="HtmlWidget" />
                <layout element="SuccessMessage" widget="HtmlWidget" />
                <layout element="ErrorMessage" widget="HtmlWidget" />
            </layouts>
            <validationrules>
                <rule element="FormTitle" regex="^.+" type="error" message="Form title is mandatory"/>
                <rule element="OptionName" regex="^.+" type="error" message="Option name is mandatory"/>
                <rule element="OptionId" regex="^.+" type="error" message="Option ID is mandatory"/>
                <rule element="EmailLabel" regex="^.+" type="error" message="Email label is mandatory"/>
                <rule element="SubmitButtonText" regex="^.+" type="error" message="Submit button text is mandatory"/>
            </validationrules>
        </xsd:appinfo>
    </xsd:annotation>
</xsd:schema>
