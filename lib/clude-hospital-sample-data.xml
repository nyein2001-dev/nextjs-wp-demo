<script>
  const radios = document.querySelectorAll('input[type="radio"]');
  const sectionInputForm = document.getElementById('section-input-form');
  const formBottomSection = document.getElementById('form-bottom-section');

  let lastCheckedRadio = null;

  radios.forEach(radio => {
    radio.addEventListener('change', () => {
      // Check if there was a previously checked radio
      if (lastCheckedRadio && lastCheckedRadio !== radio) {
        const uncheckedRadioId = lastCheckedRadio.id;
        console.log('Unchecked Radio ID:', uncheckedRadioId);

        const prevDropdownId = lastCheckedRadio.getAttribute('data-dropdown-id') || '';
        const prevSelectedId = prevDropdownId + "_" + uncheckedRadioId;

        const prevView = document.getElementById(prevSelectedId);
        if (prevView) {
          prevView.style.display = 'none';
          console.log('Hiding view for:', prevSelectedId);
        }
      }

      // Now handle the currently checked radio
      const radioId = radio.id;
      const dropdownId = radio.getAttribute('data-dropdown-id') || '';
      const selectedId = dropdownId + "_" + radioId;

      console.log("Radio ID:", radioId);
      console.log("Dropdown ID:", dropdownId);
      console.log("Selected ID:", selectedId);

      const selectedView = document.getElementById(selectedId);
      if (selectedView) {
        selectedView.style.display = 'block';
        console.log('Showing view for:', selectedId);
        sectionInputForm.style.display = 'block';
        formBottomSection.style.display = 'block';
      } else {
        console.log('No element found with ID:', selectedId);
      }

      // Update last checked radio
      lastCheckedRadio = radio;
    });
  });
</script>
