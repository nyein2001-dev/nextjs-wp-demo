data-is-required="true"
crm.uat@prulifeuk.com.ph
contactus.uat@prulifeuk.com.ph
<script>
document.addEventListener('DOMContentLoaded', function () {
    const select = document.getElementById('select-service');
    const sectionInputForm = document.getElementById('section-input-form');
    const formBottomSection = document.getElementById('form-bottom-section');
    const allViews = document.querySelectorAll('.dropdown-view');
    const unavailableText = document.getElementById('unavailable-text');
    const radios = document.querySelectorAll('input[type="radio"]');

    function showSelectedView() {
        const selectedOption = select.options[select.selectedIndex];
        const selectedId = selectedOption.getAttribute('data-option-id'); 
        const isAvailable = selectedOption.getAttribute('data-available') === 'true';
        const isIncludeRadio = selectedOption.getAttribute('data-include-radio') === 'true';
        const text = selectedOption.getAttribute('data-unavailable-text') || 'This option is unavailable.';

        allViews.forEach(view => {
            view.style.display = 'none';
        });

        unavailableText.style.display = 'none';
        unavailableText.textContent = '';

        radios.forEach(radio => {
            if (radio.name !== "policyRadios") {
                radio.checked = false;
            }
        });

        document.querySelectorAll('.dropdown-view input[type="file"]').forEach(fileInput => {
            fileInput.removeAttribute('required');
        });

        if (selectedId) {
            if (isAvailable) {
                const selectedView = document.getElementById(selectedId);

                sectionInputForm.style.display = isIncludeRadio ? 'none' : 'block';
                formBottomSection.style.display = isIncludeRadio ? 'none' : 'block';

                if (selectedView) {
                    selectedView.style.display = 'block';

                    selectedView.querySelectorAll('input[type="file"]').forEach(fileInput => {
                        const isRequired = fileInput.getAttribute('data-is-required') === 'true';
                        if (isRequired) {
                            fileInput.setAttribute('required', 'required');
                        }
                    });
                }

            } else {
                sectionInputForm.style.display = 'none';
                formBottomSection.style.display = 'none';
                unavailableText.innerHTML = text;
                unavailableText.style.display = 'block';
            }
        }
    }

    showSelectedView();

    select.addEventListener('change', showSelectedView);
});
</script>
